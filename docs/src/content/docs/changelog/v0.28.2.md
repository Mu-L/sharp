---
title: v0.28.2 - 10th May 2021
slug: changelog/v0.28.2
---

* Allow `withMetadata` to set `density`.
  [#967](https://github.com/lovell/sharp/issues/967)

* Skip shrink-on-load where one dimension <4px.
  [#2653](https://github.com/lovell/sharp/issues/2653)

* Allow escaped proxy credentials.
  [#2664](https://github.com/lovell/sharp/pull/2664)
  [@msalettes](https://github.com/msalettes)

* Add `premultiplied` flag for raw pixel data input.
  [#2685](https://github.com/lovell/sharp/pull/2685)
  [@mnutt](https://github.com/mnutt)

* Detect empty input and throw a helpful error.
  [#2687](https://github.com/lovell/sharp/pull/2687)
  [@JakobJingleheimer](https://github.com/JakobJingleheimer)

* Add install-time flag to skip version compatibility checks.
  [#2692](https://github.com/lovell/sharp/pull/2692)
  [@xemle](https://github.com/xemle)
